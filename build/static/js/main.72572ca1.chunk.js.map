{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","search","handleChangeSearch","htmlFor","name","value","onChange","PersonForm","addName","newName","newNumber","handleChangeName","handleChangeNumber","onSubmit","type","Persons","persons","regex","deleteName","filter","match","map","p","index","number","onClick","Notification","alert","message","className","style","backgroundColor","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","setAlert","useEffect","personsService","returnedPersons","catch","error","console","log","handlerMessage","setTimeout","RegExp","event","target","preventDefault","i","length","window","confirm","changedNote","includesName","newPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.72572ca1.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst drop = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, drop, update }\n","import React from 'react'\n\nconst Filter = ({ search, handleChangeSearch }) => (\n  <div>\n    <label htmlFor=\"search\">Filter shown with:</label>\n\n    <input\n      id=\"search\"\n      name=\"search\"\n      value={search}\n      onChange={handleChangeSearch}\n    />\n  </div>\n)\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ addName, newName, newNumber, handleChangeName, handleChangeNumber }) => (\n  <form onSubmit={addName}>\n    <div>\n      <label htmlFor=\"name\">Name:</label>\n\n      <input\n        id=\"name\"\n        name=\"name\"\n        value={newName}\n        onChange={handleChangeName}\n      />\n    </div>\n\n    <div>\n      <label htmlFor=\"number\">Number:</label>\n\n      <input\n        id=\"number\"\n        name=\"number\"\n        value={newNumber}\n        onChange={handleChangeNumber}\n      />\n    </div>\n\n    <div>\n      <button type=\"submit\">Add New</button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({ persons, regex, deleteName }) => (\n  <ul>\n    {\n      persons\n        .filter(({name}) => name.match(regex))\n        .map((p, index) => (\n          <li key={index}>\n            {p.name} {p.number}\n            <button onClick={() => deleteName(p.id)}>Delete</button>\n          </li>\n        ))\n    }\n  </ul>\n)\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ alert, message }) => {\n  if (message === null) {\n    return null\n  }\n\n  const error = {\n    backgroundColor: '#f65757'\n  }\n\n  const info = {\n    backgroundColor: '#2196F3'\n  }\n\n  return (\n    <div className='alert' style={alert ? error : info}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport personsService from '../services/persons'\n\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ alert, setAlert ] = useState(true)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(returnedPersons => {\n        setPersons(returnedPersons)\n      })\n      .catch(error => console.log(error))\n  }, [])\n\n  const includesName = () => {\n    for (let i = 0; i < persons.length; i += 1) {\n      if (persons[i].name === newName) {\n        const result = window.confirm(`${persons[i].name} is already added to phonebook, Replace the old number with the new one ??`)\n\n        if (result) {\n          const changedNote = {...persons[i], number: newNumber}\n          const id = changedNote.id\n\n          personsService\n            .update(id, changedNote)\n            .then(response => {\n              setPersons(persons.map(p => p.id !== id ? p : response.data))\n\n              handlerMessage(false, 'Person successfully updated :)')\n            })\n            .catch(error => console.log(error))\n        }\n\n        return true\n      }\n    }\n\n    return false\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    if (!includesName()) {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personsService\n        .create(newPerson)\n        .then(returnedPersons => {\n          setPersons([...persons, newPerson])\n\n          handlerMessage(false , 'Person successfully created :)')\n        })\n        .catch(error => handlerMessage(true, 'Person has already been deleted :('))\n\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const deleteName = (id) => {\n    const result = window.confirm('Are you sure you want to delete this item?')\n\n    if (result) {\n      personsService\n      .drop(id)\n      .then(returnedPersons => {\n        setPersons(persons.filter(p => p.id !== id))\n\n        handlerMessage(false, 'Person successfully deleted :)')\n      })\n      .catch(error => handlerMessage(true, 'Person has already been deleted :('))\n    }\n  }\n\n  const handleChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleChangeSearch = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const handlerMessage = (alert, message) => {\n    setAlert(alert)\n    setMessage(message)\n    setTimeout(() => { setMessage(null) }, 5000)\n  }\n\n  let regex = new RegExp(`${search}`, 'g');\n\n  return (\n    <div>\n      <Notification alert={alert} message={message} />\n\n      <h2>Phonebook</h2>\n\n      <Filter\n        search={search}\n        handleChangeSearch={handleChangeSearch}\n      />\n\n      <h2>Add new</h2>\n\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleChangeName={handleChangeName}\n        handleChangeNumber={handleChangeNumber}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons\n        persons={persons}\n        regex={regex}\n        deleteName={deleteName}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport './css/style.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}