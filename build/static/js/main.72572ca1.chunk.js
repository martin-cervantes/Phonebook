(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(17),a=t.n(r),u=t(18),o=t(8),i=t(3),s=t(5),l=t.n(s),d="/api/persons",h=function(){return l.a.get(d).then((function(e){return e.data}))},b=function(e){return l.a.post(d,e).then((function(e){return e.data}))},j=function(e){return l.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},f=function(e,n){return l.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},m=t(0),O=function(e){var n=e.search,t=e.handleChangeSearch;return Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"search",children:"Filter shown with:"}),Object(m.jsx)("input",{id:"search",name:"search",value:n,onChange:t})]})},x=function(e){var n=e.addName,t=e.newName,c=e.newNumber,r=e.handleChangeName,a=e.handleChangeNumber;return Object(m.jsxs)("form",{onSubmit:n,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(m.jsx)("input",{id:"name",name:"name",value:t,onChange:r})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"number",children:"Number:"}),Object(m.jsx)("input",{id:"number",name:"number",value:c,onChange:a})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"Add New"})})]})},g=function(e){var n=e.persons,t=e.regex,c=e.deleteName;return Object(m.jsx)("ul",{children:n.filter((function(e){return e.name.match(t)})).map((function(e,n){return Object(m.jsxs)("li",{children:[e.name," ",e.number,Object(m.jsx)("button",{onClick:function(){return c(e.id)},children:"Delete"})]},n)}))})},p=function(e){var n=e.alert,t=e.message;if(null===t)return null;return Object(m.jsx)("div",{className:"alert",style:n?{backgroundColor:"#f65757"}:{backgroundColor:"#2196F3"},children:t})},v=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),s=Object(i.a)(a,2),l=s[0],d=s[1],v=Object(c.useState)(""),w=Object(i.a)(v,2),N=w[0],C=w[1],y=Object(c.useState)(""),k=Object(i.a)(y,2),S=k[0],P=k[1],F=Object(c.useState)(null),A=Object(i.a)(F,2),E=A[0],D=A[1],J=Object(c.useState)(!0),R=Object(i.a)(J,2),B=R[0],I=R[1];Object(c.useEffect)((function(){h().then((function(e){r(e)})).catch((function(e){return console.log(e)}))}),[]);var T=function(e,n){I(e),D(n),setTimeout((function(){D(null)}),5e3)},q=new RegExp("".concat(S),"g");return Object(m.jsxs)("div",{children:[Object(m.jsx)(p,{alert:B,message:E}),Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(O,{search:S,handleChangeSearch:function(e){P(e.target.value)}}),Object(m.jsx)("h2",{children:"Add new"}),Object(m.jsx)(x,{addName:function(e){if(e.preventDefault(),!function(){for(var e=0;e<t.length;e+=1)if(t[e].name===l)return window.confirm("".concat(t[e].name," is already added to phonebook, Replace the old number with the new one ??"))&&function(){var n=Object(o.a)(Object(o.a)({},t[e]),{},{number:N}),c=n.id;f(c,n).then((function(e){r(t.map((function(n){return n.id!==c?n:e.data}))),T(!1,"Person successfully updated :)")})).catch((function(e){return console.log(e)}))}(),!0;return!1}()){var n={name:l,number:N};b(n).then((function(e){r([].concat(Object(u.a)(t),[n])),T(!1,"Person successfully created :)")})).catch((function(e){return T(!0,"Person has already been deleted :(")})),d(""),C("")}},newName:l,newNumber:N,handleChangeName:function(e){d(e.target.value)},handleChangeNumber:function(e){C(e.target.value)}}),Object(m.jsx)("h2",{children:"Numbers"}),Object(m.jsx)(g,{persons:t,regex:q,deleteName:function(e){window.confirm("Are you sure you want to delete this item?")&&j(e).then((function(n){r(t.filter((function(n){return n.id!==e}))),T(!1,"Person successfully deleted :)")})).catch((function(e){return T(!0,"Person has already been deleted :(")}))}})]})};t(42);a.a.render(Object(m.jsx)(v,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.72572ca1.chunk.js.map